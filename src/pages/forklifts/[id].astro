---
import Layout from '../../layouts/Layout.astro';
import { forklifts } from '../../data/forklifts'; // Импортируем данные

export async function getStaticPaths() {
  return forklifts.map(forklift => ({
    params: { id: String(forklift.id) },
    props: { forklift },
  }));
}

interface Props {
  forklift: {
    id: number;
    title: string;
    price: string;
    image: string;
    specs: string[];
    status: string;
    description: string;
  };
}

const { forklift } = Astro.props;
---

<Layout title={forklift.title}>
  <div class="container mx-auto py-12 px-4">
    <h1 class="text-4xl font-bold mb-4">{forklift.title}</h1>
    <img src={forklift.image} alt={forklift.title} class="w-full rounded-2xl shadow-lg mb-8" />
    <div class="text-xl font-bold text-indigo-700 mb-4">{forklift.price}</div>
    <ul class="space-y-4 mb-8">
      {forklift.specs.map(spec => (
        <li class="text-gray-700">{spec}</li>
      ))}
    </ul>
    <p class="text-gray-800">{forklift.description}</p>
    
    <div class="flex gap-3 mt-8">
        <a href={`https://wa.me/77017230470?text=Интересует ${forklift.title}`} target="_blank" class="flex-1 bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded-lg text-center transition">
            В WhatsApp
        </a>
        <a href="tel:+77017230470" class="flex-1 border-2 border-gray-200 hover:border-gray-900 text-gray-900 font-bold py-3 px-4 rounded-lg text-center transition">
            Позвонить
        </a>
    </div>
  </div>
</Layout>